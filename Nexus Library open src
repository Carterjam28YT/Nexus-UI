-- Nexus UI Library Full Example
-- Author: Carterjam28
-- Features: Key system, draggable UI, Discord button, Tabs, Sections, Buttons, Toggles, Sliders, Notifications

local NexusUI = {}
NexusUI.__index = NexusUI

-- Services
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

-- Color palette
NexusUI.Colors = {
    Primary = Color3.fromRGB(99, 102, 241),
    PrimaryDark = Color3.fromRGB(79, 70, 229),
    Secondary = Color3.fromRGB(244, 63, 94),
    Dark = Color3.fromRGB(30, 41, 59),
    Darker = Color3.fromRGB(15, 23, 42),
    Light = Color3.fromRGB(248, 250, 252),
    Gray = Color3.fromRGB(100, 116, 139),
    GrayLight = Color3.fromRGB(203, 213, 225),
    Success = Color3.fromRGB(16, 185, 129),
    Warning = Color3.fromRGB(245, 158, 11),
    Error = Color3.fromRGB(239, 68, 68)
}

-- Tween presets
NexusUI.Animations = {
    ButtonHover = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    ButtonClick = TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    FadeIn = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
    SlideIn = TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out)
}

-- Init
function NexusUI:Init(options)
    local self = setmetatable({}, NexusUI)
    self.KeySystemEnabled = options.KeySystem or false
    self.DiscordInvite = options.DiscordInvite or "https://discord.gg/example"
    self.Parent = CoreGui
    self.Components = {}
    self.Windows = {}
    self.Verified = false
    self.Keys = options.Keys or {"NEXUS-KEY-123","VIP-KEY-001"}
    self.GetKeyLink = options.GetKeyLink or "https://discord.gg/example"
    return self
end

-- Utility
function NexusUI:CreateElement(class, props)
    local obj = Instance.new(class)
    for k,v in pairs(props) do
        obj[k] = v
    end
    return obj
end

-- Key Validation
function NexusUI:ValidateKey(key)
    for _,k in ipairs(self.Keys) do
        if k == key then
            self.Verified = true
            return true
        end
    end
    return false
end

-- Key UI
function NexusUI:CreateKeyUI()
    local gui = self:CreateElement("ScreenGui",{Name="NexusKeyUI",Parent=self.Parent,ResetOnSpawn=false})
    local frame = self:CreateElement("Frame",{
        Size=UDim2.new(0,400,0,250),
        Position=UDim2.new(0.5,0,0.5,0),
        AnchorPoint=Vector2.new(0.5,0.5),
        BackgroundColor3=self.Colors.Darker,
        Parent=gui
    })
    local corner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,16),Parent=frame})

    -- Draggable
    frame.Active = true
    frame.Draggable = true

    -- Title
    local title = self:CreateElement("TextLabel",{
        Size=UDim2.new(1,0,0,50),
        BackgroundTransparency=1,
        Text="NEXUS UI - ENTER KEY",
        TextColor3=self.Colors.Light,
        Font=Enum.Font.GothamBold,
        TextSize=24,
        Parent=frame
    })

    -- TextBox
    local keyBox = self:CreateElement("TextBox",{
        Size=UDim2.new(0,300,0,45),
        Position=UDim2.new(0.5,0,0.5,-20),
        AnchorPoint=Vector2.new(0.5,0.5),
        BackgroundColor3=self.Colors.Dark,
        TextColor3=self.Colors.Light,
        PlaceholderText="Enter your key...",
        Font=Enum.Font.Gotham,
        TextSize=16,
        Parent=frame
    })
    local boxCorner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,8),Parent=keyBox})

    -- Submit Button
    local submit = self:CreateElement("TextButton",{
        Size=UDim2.new(0,200,0,45),
        Position=UDim2.new(0.5,0,0.75,0),
        AnchorPoint=Vector2.new(0.5,0.5),
        BackgroundColor3=self.Colors.Primary,
        TextColor3=self.Colors.Light,
        Text="SUBMIT KEY",
        Font=Enum.Font.GothamSemibold,
        TextSize=16,
        AutoButtonColor=false,
        Parent=frame
    })
    local submitCorner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,8),Parent=submit})

    -- GET KEY Button
    local getKey = self:CreateElement("TextButton",{
        Size=UDim2.new(0,150,0,35),
        Position=UDim2.new(0.5,0,0.9,0),
        AnchorPoint=Vector2.new(0.5,0.5),
        BackgroundColor3=self.Colors.Secondary,
        TextColor3=self.Colors.Light,
        Text="GET KEY",
        Font=Enum.Font.GothamBold,
        TextSize=14,
        AutoButtonColor=false,
        Parent=frame
    })
    local getCorner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,8),Parent=getKey})

    -- Result label
    local result = self:CreateElement("TextLabel",{
        Size=UDim2.new(1,0,0,25),
        Position=UDim2.new(0,0,0.6,0),
        BackgroundTransparency=1,
        Text="",
        TextColor3=self.Colors.Error,
        Font=Enum.Font.Gotham,
        TextSize=14,
        Parent=frame
    })

    submit.MouseButton1Click:Connect(function()
        if self:ValidateKey(keyBox.Text) then
            result.TextColor3=self.Colors.Success
            result.Text="✅ Key Validated!"
            task.wait(0.5)
            gui:Destroy()
            self:CreateWindow({Name="Nexus UI Example",Discord=true})
        else
            result.TextColor3=self.Colors.Error
            result.Text="❌ Invalid Key!"
        end
    end)

    getKey.MouseButton1Click:Connect(function()
        if setclipboard then
            setclipboard(self.GetKeyLink)
        end
    end)

    table.insert(self.Components,gui)
end

-- Create Main Window
function NexusUI:CreateWindow(options)
    if self.KeySystemEnabled and not self.Verified then
        self:CreateKeyUI()
        return
    end
    local window = {Tabs={}}
    local gui = self:CreateElement("ScreenGui",{Name="NexusWindow",Parent=self.Parent,ResetOnSpawn=false})
    local frame = self:CreateElement("Frame",{
        Size=UDim2.new(0,600,0,400),
        Position=UDim2.new(0.5,0,0.5,0),
        AnchorPoint=Vector2.new(0.5,0.5),
        BackgroundColor3=self.Colors.Darker,
        Parent=gui
    })
    local corner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,12),Parent=frame})

    -- Top bar
    local top = self:CreateElement("Frame",{Size=UDim2.new(1,0,0,40),BackgroundColor3=self.Colors.Dark,Parent=frame})
    local topTitle = self:CreateElement("TextLabel",{Size=UDim2.new(1,0,1,0),BackgroundTransparency=1,Text=options.Name or "Nexus UI",TextColor3=self.Colors.Light,Font=Enum.Font.GothamBold,TextSize=18,Parent=top})
    frame.Active=true frame.Draggable=true

    -- Discord Button
    if options.Discord then
        local discordBtn = self:CreateElement("TextButton",{Size=UDim2.new(0,120,0,40),Position=UDim2.new(1,-130,1,-50),AnchorPoint=Vector2.new(1,1),BackgroundColor3=self.Colors.Primary,TextColor3=self.Colors.Light,Text="DISCORD",Font=Enum.Font.GothamSemibold,TextSize=14,Parent=gui})
        local corner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,8),Parent=discordBtn})
        discordBtn.MouseButton1Click:Connect(function()
            if setclipboard then
                setclipboard(self.DiscordInvite)
            end
        end)
    end
    table.insert(self.Windows,window)
end

-- Notifications
function NexusUI:ShowNotification(opts)
    local frame = self:CreateElement("Frame",{Size=UDim2.new(0,350,0,80),Position=UDim2.new(1,400,0.1,0),AnchorPoint=Vector2.new(1,0),BackgroundColor3=self.Colors.Dark,Parent=self.Parent})
    local corner = self:CreateElement("UICorner",{CornerRadius=UDim.new(0,12),Parent=frame})
    local txt = self:CreateElement("TextLabel",{Size=UDim2.new(1,-20,1,-20),Position=UDim2.new(0,10,0,10),BackgroundTransparency=1,Text=opts.Title.."\n"..opts.Message,TextColor3=self.Colors.Light,Font=Enum.Font.Gotham,TextSize=14,TextWrapped=true,Parent=frame})
    task.delay(opts.Duration or 5,function()
        frame:Destroy()
    end)
end

-- Cleanup
function NexusUI:Destroy()
    for _,c in pairs(self.Components) do
        if c and c.Parent then c:Destroy() end
    end
    self.Components={}
end

getgenv().NexusUI = NexusUI
return NexusUI

--[[ USAGE EXAMPLE
local UI = require(path_to_this_file):Init({
    KeySystem=true,
    Keys={"MYKEY123","VIPACCESS"},
    GetKeyLink="https://discord.gg/example",
    DiscordInvite="https://discord.gg/example"
})
UI:CreateWindow({Name="Nexus Example",Discord=true})
]]
